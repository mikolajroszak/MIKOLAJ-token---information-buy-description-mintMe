(window["wpJsonpOkeReviews"]=window["wpJsonpOkeReviews"]||[]).push([["modules/okendo-star-rating"],{"02ea":function(e,t,r){"use strict";r("9b79")},2877:function(e,t,r){"use strict";function i(e,t,r,i,s,a,n,o){var l,c="function"===typeof e?e.options:e;if(t&&(c.render=t,c.staticRenderFns=r,c._compiled=!0),i&&(c.functional=!0),a&&(c._scopeId="data-v-"+a),n?(l=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||"undefined"===typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),s&&s.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(n)},c._ssrRegister=l):s&&(l=o?function(){s.call(this,(c.functional?this.parent:this).$root.$options.shadowRoot)}:s),l)if(c.functional){c._injectStyles=l;var d=c.render;c.render=function(e,t){return l.call(t),d(e,t)}}else{var u=c.beforeCreate;c.beforeCreate=u?[].concat(u,l):[l]}return{exports:e,options:c}}r.d(t,"a",(function(){return i}))},"4cac":function(e,t,r){"use strict";r.r(t);var i=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"okeReviews oke-sr",attrs:{"data-oke-reviews-version":e.version}},[e.reviewCount>0||e.showWhenEmpty?r("div",{directives:[{name:"ga",rawName:"v-ga:click",value:{action:"Star Rating Summary Click"},expression:"{ action: 'Star Rating Summary Click' }",arg:"click"}],class:{"oke-is-clickable":e.isClickable},attrs:{role:e.isClickable?"button":void 0,tabIndex:e.isClickable?0:void 0},on:{click:function(t){return e.onClick()},keydown:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.onClick()},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"space",32,t.key,[" ","Spacebar"])?null:e.onClick()}]}},[r("div",{staticClass:"oke-sr-rating"},[e._v(" "+e._s(e.averageRating)+" ")]),r("div",{staticClass:"oke-sr-stars"},[r("stars",{attrs:{rating:e.averageRating,height:e.starHeight}})],1),r("div",{staticClass:"oke-sr-count",class:{"oke-sr-count--brackets":e.textStyle.brackets}},[r("span",{staticClass:"oke-sr-count-number"},[e._v(e._s(e.prettyNumber))]),e.labelText?[r("span",{staticClass:"oke-sr-label-text"},[e._v(e._s(e.labelText))])]:e._e()],2),e.isClickable?r("span",{staticClass:"oke-a11yText"},[e._v(e._s(e.$tc("Click to scroll to reviews")))]):e._e()]):e._e(),e.metafieldJsonData?r("script",{attrs:{type:"application/json",id:"oke-metafield-data"}},[e._v(" "+e._s(e.metafieldJsonData)+" ")]):e._e()])},s=[],a=r("9ab4"),n=r("60a3"),o=r("5a8d"),l=r("9de8"),c=r("7c19"),d=r("02e8");let u=class extends n["d"]{constructor(){super(...arguments),this.version="0.39.0",this.averageRating="0",this.isClickable=!1,this.reviewCount=0}created(){var e,t;const r=l["a"].getWidgetRenderMode();"normal"===r&&this.initialData?(this.averageRating=null!==(e=this.initialData.averageRating)&&void 0!==e?e:this.averageRating,this.reviewCount=null!==(t=this.initialData.reviewCount)&&void 0!==t?t:this.reviewCount,this.sendWidgetRenderedEvent()):this.loadAggregateData()}sendWidgetRenderedEvent(){this.$nextTick(()=>{l["a"].sendWidgetRenderedEvent("star-rating",this.widgetId)})}async mounted(){this.isClickable=await d["a"].areStarRatingsClickable()}get starRatingSettings(){return c["default"].widgetSettings.starRatings}get textStyle(){return this.starRatingSettings.style.text}get starHeight(){return l["a"].getCombinedUnitMeasure(this.starRatingSettings.style.height)}get prettyNumber(){return"average-rating"===this.textStyle.content?this.averageRating:l["a"].getPrettyNumber(this.reviewCount)}get labelText(){if("number-and-text"===this.textStyle.style){const e="average-rating"===this.textStyle.content?this.$tc("Stars"):this.$tc("Review",this.reviewCount);return" "+e}}get showWhenEmpty(){return this.starRatingSettings.showWhenEmpty}get metafieldJsonData(){const e={averageRating:this.averageRating,reviewCount:this.reviewCount};return JSON.stringify(e)}async loadAggregateData(){if(this.productId){const{reviewAggregate:e}=await o["a"].getReviewAggregateProduct(this.productId);this.reviewCount=e.ratingAndReviewCount,this.averageRating=l["a"].getAverageRatingDisplayText(e),this.sendWidgetRenderedEvent()}}onClick(){this.$nextTick(()=>{d["a"].scrollToElement(this.$el)})}};Object(a["a"])([Object(n["c"])()],u.prototype,"scrollDisabled",void 0),Object(a["a"])([Object(n["c"])()],u.prototype,"productId",void 0),Object(a["a"])([Object(n["c"])()],u.prototype,"initialData",void 0),Object(a["a"])([Object(n["c"])()],u.prototype,"widgetId",void 0),u=Object(a["a"])([Object(n["a"])({components:{Stars:()=>Promise.all([r.e("okendo-reviews-core"),r.e("modules/okendo-star-rating")]).then(r.bind(null,"76e5"))}})],u);var g=u,v=g,h=(r("02ea"),r("2877")),p=Object(h["a"])(v,i,s,!1,null,null,null);t["default"]=p.exports},"5a8d":function(e,t,r){"use strict";var i=r("7c19"),s=r("88c3"),a=r("9de8"),n=r("e39c"),o=r("522e"),l=r("0625");const c=l["a"].apiBaseUrl,d=l["a"].dynamicTranscodedMediaBaseUrl,u=l["a"].appBaseUrl,g=l["a"].recorderPlusBaseUrl,v=l["a"].foursixtyBaseUrl,h={ratingAndReviewCount:0,ratingAndReviewCountByLevel:{},ratingAndReviewValuesTotal:0},p=()=>s["a"].locale?"&locale="+s["a"].locale:"",w=(e,t)=>"undefined"===typeof e||404===e?Promise.resolve(t):Promise.reject(e),$=async(e,t,r)=>{const i=a["a"].getWidgetRenderMode();if("empty"===i)return Promise.resolve(t);{const a="sample-data"===i?{headers:{"x-okendo-force-sample-data":"true"}}:void 0;try{return o["a"].get(e,a)}catch(s){if(r)return r(s,t);throw s}}};t["a"]={get subscriberId(){return i["default"].subscriberId},get storeBaseUrl(){if(this.subscriberId)return`${c}/stores/${this.subscriberId}`;console.warn("No subscriber Id set")},filtersToQueryString(e){if(!(null===e||void 0===e?void 0:e.length))return"";const t=null===e||void 0===e?void 0:e.map(e=>{const t="shopper"===e.target?"shopperAttributes":"generalAttributes",r=n["a"].toComaEscapedEncodedString(e.title),i=e.options.map(e=>n["a"].toComaEscapedEncodedString(e)).join(",");return`${t}=${r},${i}`}).join("&");return"&"+t},parseFoursixtyParams(e){return Object.keys(e).filter(t=>"activePageId"!==t&&e[t]).map(t=>`${n["a"].snakeCase(t)}=${e[t]}`).join("&")},ratingFiltersToQueryString(e){return(null===e||void 0===e?void 0:e.length)?"&"+e.map(e=>"ratings="+e).join("&"):""},apiBaseUrl(){return c},dynamicTranscodedMediaBaseUrl(){return d},writeReviewUrl(e){var t;return(null===(t=i["default"].features)||void 0===t?void 0:t.recorderPlusEnabled)?`${g}/?subscriberId=${this.subscriberId}&productId=${e}${p()}`:`${u}/stores/${this.subscriberId}/review?productId=${e}${p()}`},askQuestionUrl(e){return`${u}/stores/${this.subscriberId}/question?productId=${e}`},poweredByUrl(){return`https://okendo.io?utm_source=${this.subscriberId}&utm_medium=widget&utm_campaign=poweredby`},getMore(e,t){const r=t?e.replace(/limit=[0-9]*/i,"limit="+t):e;return o["a"].get(`${c}${r}`)},postHelpfulVoteReview(e,t){return o["a"].post(`${this.storeBaseUrl}/reviews/${e}/vote`,{voteType:t})},getReview(e){return $(`${this.storeBaseUrl}/reviews/${e}`,void 0)},getReviewsProduct(e,t=5,r="date desc",i,s){return $(`${this.storeBaseUrl}/products/${e}/reviews?limit=${t}&orderBy=${r}${this.filtersToQueryString(i)}${this.ratingFiltersToQueryString(s)}`,{reviews:[],areReviewsGrouped:!1})},getReviewsAll(e=5,t="date desc"){return $(`${this.storeBaseUrl}/reviews?limit=${e}&orderBy=${t}`,{reviews:[]})},getReviewsGroup(e,t=5,r="date desc"){return $(`${this.storeBaseUrl}/collections/${e}/reviews?limit=${t}&orderBy=${r}`,{reviews:[]})},getReviews(e,t,r=5,i="date desc",s,n){const o=a["a"].getWidgetMode(e,t);switch(o){case"product":return this.getReviewsProduct(e,r,i,s,n);case"group":return this.getReviewsGroup(t,r,i);default:return this.getReviewsAll(r,i)}},async getReviewAggregateProduct(e){const t=await $(`${this.storeBaseUrl}/products/${e}/review_aggregate`,void 0,w);return null!==t&&void 0!==t?t:{reviewAggregate:h}},async getReviewAggregateAll(){const e=await $(this.storeBaseUrl+"/review_aggregate",void 0,w);return null!==e&&void 0!==e?e:{reviewAggregate:h}},async getReviewAggregateGroup(e){const t=await $(`${this.storeBaseUrl}/collections/${e}/review_aggregate`,void 0,w);return null!==t&&void 0!==t?t:{reviewAggregate:h}},getMediaProduct(e,t=6,r="date desc"){return $(`${this.storeBaseUrl}/products/${e}/review_media?limit=${t}&orderBy=${r}`,{media:[]})},getMediaAll(e=6,t="date desc"){return $(`${this.storeBaseUrl}/review_media?limit=${e}&orderBy=${t}`,{media:[]})},getMediaGroup(e,t=6,r="date desc"){return $(`${this.storeBaseUrl}/collections/${e}/review_media?limit=${t}&orderBy=${r}`,{media:[]})},getQuestionsProduct(e,t=5,r="date desc"){return $(`${this.storeBaseUrl}/products/${e}/questions?limit=${t}&orderBy=${r}`,{questions:[]})},getQuestionAggregateProduct(e){return $(`${this.storeBaseUrl}/products/${e}/question_aggregate`,void 0)},getQuestionsAggregateCollection(e){return $(`${this.storeBaseUrl}/collections/${e}/question_aggregate`,void 0)},getQuestionsCollection(e,t=5,r="date desc"){return $(`${this.storeBaseUrl}/collections/${e}/questions?limit=${t}&orderBy=${r}`,{questions:[]})},getFiltersProduct(e){return $(`${this.storeBaseUrl}/products/${e}/attributes`,{productAttributes:[]})},getFoursixtyMedia(e){return o["a"].get(`${v}/${e.activePageId}/timeline/?${this.parseFoursixtyParams(e)}`)},getFoursixty(e){return o["a"].get(e)},postHelpfulVoteQuestion(e,t){return o["a"].post(`${this.storeBaseUrl}/questions/${e}/vote`,{voteType:t})},postHelpfulVoteAnswer(e,t,r){return o["a"].post(`${this.storeBaseUrl}/questions/${e}/answers/${t}/vote`,{voteType:r})}}},"69e4":function(e,t,r){},"76e5":function(e,t,r){"use strict";r.r(t);var i=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"oke-stars"},[e.singleStar?[r("svg",{staticStyle:{overflow:"visible"},attrs:{height:e.height,viewBox:"0 0 15 14","aria-hidden":"true"}},[r("use",{attrs:{href:"#oke-star-filled"}})])]:e._e(),e.singleStar?e._e():[r("div",{staticClass:"oke-stars-background"},[r("svg",{staticStyle:{overflow:"visible"},attrs:{height:e.height,viewBox:"0 0 80 14","aria-hidden":"true"}},[r("use",{attrs:{href:"#oke-stars-empty"}})])]),r("div",{staticClass:"oke-stars-foreground",style:{width:e.foregroundWidth}},[r("svg",{attrs:{height:e.height,viewBox:"0 0 80 14","aria-hidden":"true"}},[r("use",{attrs:{href:"#oke-stars-filled"}})])])],r("span",{staticClass:"oke-a11yText"},[e._v("Rated "+e._s(e.rating)+" stars")])],2)},s=[],a=r("9ab4"),n=r("60a3");let o=class extends n["d"]{get foregroundWidth(){return 20*this.rating+"%"}};Object(a["a"])([Object(n["c"])()],o.prototype,"rating",void 0),Object(a["a"])([Object(n["c"])({default:()=>"18px"})],o.prototype,"height",void 0),Object(a["a"])([Object(n["c"])({default:()=>!1})],o.prototype,"singleStar",void 0),o=Object(a["a"])([n["a"]],o);var l=o,c=l,d=(r("c6af"),r("2877")),u=Object(d["a"])(c,i,s,!1,null,null,null);t["default"]=u.exports},"9ab4":function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));function i(e,t,r,i){var s,a=arguments.length,n=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,r):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)n=Reflect.decorate(e,t,r,i);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(n=(a<3?s(n):a>3?s(t,r,n):s(t,r))||n);return a>3&&n&&Object.defineProperty(t,r,n),n}Object.create;Object.create},"9b79":function(e,t,r){},c6af:function(e,t,r){"use strict";r("69e4")}}]);