(window["wpJsonpOkeReviews"]=window["wpJsonpOkeReviews"]||[]).push([["modules/helpful-voting"],{"1bf5":function(t,e,o){"use strict";o.r(e);var s=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"oke-helpful"},[o("span",{staticClass:"oke-helpful-label"},[t._v(t._s(t.helpfulLabelText))]),o("div",{staticClass:"oke-helpful-vote"},[o("button",{staticClass:"oke-helpful-vote-button oke-helpful-vote-button--positive",class:{"oke-is-voted":"upvote"===t.currentVote,"is-oke-disabled":t.isVoting},attrs:{disabled:t.isVoting,"aria-describedby":"oke-helpful-vote-counter-positive-"+t.itemId,type:"button","aria-label":t.$tc("Yes, this review was helpful")},on:{click:function(e){return t.onVote("upvote")}}},[o("span",{staticClass:"oke-helpful-vote-counter",attrs:{id:"oke-helpful-vote-counter-positive-"+t.itemId}},[t._v(" "+t._s(t.helpfulCountDisplay)+" "),o("span",{staticClass:"oke-a11yText"},[t._v(t._s(t.$tc("person voted yes",t.helpfulCountDisplay)))])])]),o("button",{staticClass:"oke-helpful-vote-button oke-helpful-vote-button--negative",class:{"oke-is-voted":"downvote"===t.currentVote,"is-oke-disabled":t.isVoting},attrs:{disabled:t.isVoting,"aria-describedby":"oke-helpful-vote-counter-negative-"+t.itemId,type:"button","aria-label":t.$tc("No, this review was not helpful")},on:{click:function(e){return t.onVote("downvote")}}},[o("span",{staticClass:"oke-helpful-vote-counter",attrs:{id:"oke-helpful-vote-counter-negative-"+t.itemId}},[t._v(" "+t._s(t.unhelpfulCountDisplay)+" "),o("span",{staticClass:"oke-a11yText"},[t._v(t._s(t.$tc("person voted no",t.unhelpfulCountDisplay)))])])])])])},i=[],n=o("9ab4"),l=o("60a3"),u=o("92ca"),a=o("5a8d");let p=class extends l["d"]{constructor(){super(...arguments),this.currentVote="",this.isVoting=!1}get helpfulCountDisplay(){return"upvote"===this.currentVote?this.helpfulCount+1:this.helpfulCount}get unhelpfulCountDisplay(){return"downvote"===this.currentVote?this.unhelpfulCount+1:this.unhelpfulCount}get helpfulLabelText(){return"question"===this.contentType?this.$tc("I had this question too"):this.$tc("Was this helpful?")}async onVote(t){this.isVoting=!0;const e=this.getVoteType(this.currentVote,t);u["a"].sendGAEvent(`${this.contentType} Vote â€“ ${e.replace(/-/g," ")}`,this.productName);try{await this.postVote(e),this.currentVote=t===this.currentVote?"":t}finally{this.isVoting=!1}}getVoteType(t,e){return t?t===e?e+"-cancel":"swap-to-"+e:e}postVote(t){switch(this.contentType){case"review":return a["a"].postHelpfulVoteReview(this.itemId,t);case"question":return a["a"].postHelpfulVoteQuestion(this.itemId,t);case"answer":return a["a"].postHelpfulVoteAnswer(this.parentId,this.itemId,t)}}};Object(n["a"])([Object(l["c"])({default:()=>"review"})],p.prototype,"contentType",void 0),Object(n["a"])([Object(l["c"])({default:()=>0})],p.prototype,"helpfulCount",void 0),Object(n["a"])([Object(l["c"])({default:()=>0})],p.prototype,"unhelpfulCount",void 0),Object(n["a"])([Object(l["c"])()],p.prototype,"itemId",void 0),Object(n["a"])([Object(l["c"])()],p.prototype,"parentId",void 0),Object(n["a"])([Object(l["c"])()],p.prototype,"productName",void 0),p=Object(n["a"])([l["a"]],p);var c=p,r=c,h=(o("aa7e"),o("2877")),d=Object(h["a"])(r,s,i,!1,null,null,null);e["default"]=d.exports},"44c5":function(t,e,o){},aa7e:function(t,e,o){"use strict";o("44c5")}}]);